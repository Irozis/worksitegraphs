{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\fedelesh_dm\\\\worksitegraphs\\\\client\\\\src\\\\routes\\\\ObjectPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport useFetch from '../hooks/useFetch';\nimport ChartModal from '../components/ChartModal';\n\n// Параметры URL (v6)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst metricTypes = [{\n  key: 'voltage',\n  label: 'Напряжение/Время'\n}, {\n  key: 'current',\n  label: 'Ток/Время'\n}, {\n  key: 'temperature',\n  label: 'Температура/Время'\n}];\nconst ObjectPage = () => {\n  _s();\n  const {\n    objectId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    data: object\n  } = useFetch(`/api/objects/${objectId}`);\n\n  // Выбранный метрик для отображения\n  const [activeMetric, setActiveMetric] = useState(null);\n  if (!object) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontFamily: 'Roboto, sans-serif',\n        color: '#FFD014',\n        backgroundColor: '#252525',\n        padding: 20\n      },\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      fontFamily: 'Roboto, sans-serif',\n      backgroundColor: '#252525',\n      color: '#FFD014',\n      minHeight: '100vh',\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate(-1),\n      style: {\n        background: 'transparent',\n        border: '1px solid #FFD014',\n        borderRadius: '4px',\n        color: '#FFD014',\n        padding: '8px 12px',\n        cursor: 'pointer',\n        marginBottom: '16px'\n      },\n      children: \"\\u2190 \\u041D\\u0430\\u0437\\u0430\\u0434\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        marginBottom: '8px'\n      },\n      children: object.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        margin: '4px 0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 38\n      }, this), \" \", object.description]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        margin: '4px 0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\u0414\\u0430\\u0442\\u0430 \\u0441\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u044F:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 38\n      }, this), \" \", new Date(object.createdAt).toLocaleDateString()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        margin: '4px 0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\u041B\\u043E\\u043A\\u0430\\u0446\\u0438\\u044F:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 38\n      }, this), \" \", object.location]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\n        gap: '16px',\n        marginTop: '24px'\n      },\n      children: metricTypes.map(({\n        key,\n        label\n      }) => /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => setActiveMetric(key),\n        style: {\n          backgroundColor: '#252525',\n          border: '1px solid #FFD014',\n          borderRadius: '8px',\n          padding: '16px',\n          cursor: 'pointer',\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'center',\n          alignItems: 'center',\n          height: '100px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '1.1rem',\n            marginBottom: '8px'\n          },\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '0.9rem'\n          },\n          children: \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)]\n      }, key, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), activeMetric && /*#__PURE__*/_jsxDEV(ChartModal, {\n      type: activeMetric,\n      objectId: Number(objectId),\n      onClose: () => setActiveMetric(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n_s(ObjectPage, \"LGLQo2KPnWeyFre3NZHUF8SbGjQ=\", false, function () {\n  return [useParams, useNavigate, useFetch];\n});\n_c = ObjectPage;\nexport default ObjectPage;\nvar _c;\n$RefreshReg$(_c, \"ObjectPage\");","map":{"version":3,"names":["React","useState","useParams","useNavigate","useFetch","ChartModal","jsxDEV","_jsxDEV","metricTypes","key","label","ObjectPage","_s","objectId","navigate","data","object","activeMetric","setActiveMetric","style","fontFamily","color","backgroundColor","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","minHeight","onClick","background","border","borderRadius","cursor","marginBottom","name","margin","description","Date","createdAt","toLocaleDateString","location","display","gridTemplateColumns","gap","marginTop","map","flexDirection","justifyContent","alignItems","height","fontSize","type","Number","onClose","_c","$RefreshReg$"],"sources":["C:/Users/fedelesh_dm/worksitegraphs/client/src/routes/ObjectPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport useFetch from '../hooks/useFetch';\r\nimport { ObjectItem } from '../types';\r\nimport ChartModal from '../components/ChartModal';\r\n\r\n// Параметры URL (v6)\r\ntype Params = { objectId: string; }\r\n\r\nconst metricTypes = [\r\n  { key: 'voltage', label: 'Напряжение/Время' },\r\n  { key: 'current', label: 'Ток/Время' },\r\n  { key: 'temperature', label: 'Температура/Время' },\r\n];\r\n\r\nconst ObjectPage: React.FC = () => {\r\n  const { objectId } = useParams<Params>();\r\n  const navigate = useNavigate();\r\n  const { data: object } = useFetch<ObjectItem>(`/api/objects/${objectId}`);\r\n\r\n  // Выбранный метрик для отображения\r\n  const [activeMetric, setActiveMetric] = useState<string | null>(null);\r\n\r\n  if (!object) {\r\n    return (\r\n      <div style={{ fontFamily: 'Roboto, sans-serif', color: '#FFD014', backgroundColor: '#252525', padding: 20 }}>\r\n        Загрузка...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{\r\n      fontFamily: 'Roboto, sans-serif',\r\n      backgroundColor: '#252525',\r\n      color: '#FFD014',\r\n      minHeight: '100vh',\r\n      padding: '20px'\r\n    }}>\r\n      <button\r\n        onClick={() => navigate(-1)}\r\n        style={{\r\n          background: 'transparent',\r\n          border: '1px solid #FFD014',\r\n          borderRadius: '4px',\r\n          color: '#FFD014',\r\n          padding: '8px 12px',\r\n          cursor: 'pointer',\r\n          marginBottom: '16px'\r\n        }}\r\n      >\r\n        ← Назад\r\n      </button>\r\n\r\n      <h1 style={{ marginBottom: '8px' }}>{object.name}</h1>\r\n      <p style={{ margin: '4px 0' }}><strong>Описание:</strong> {object.description}</p>\r\n      <p style={{ margin: '4px 0' }}><strong>Дата создания:</strong> {new Date(object.createdAt).toLocaleDateString()}</p>\r\n      <p style={{ margin: '4px 0' }}><strong>Локация:</strong> {object.location}</p>\r\n\r\n      {/* Карточки метрик */}\r\n      <div style={{\r\n        display: 'grid',\r\n        gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\r\n        gap: '16px',\r\n        marginTop: '24px'\r\n      }}>\r\n        {metricTypes.map(({ key, label }) => (\r\n          <div\r\n            key={key}\r\n            onClick={() => setActiveMetric(key)}\r\n            style={{\r\n              backgroundColor: '#252525',\r\n              border: '1px solid #FFD014',\r\n              borderRadius: '8px',\r\n              padding: '16px',\r\n              cursor: 'pointer',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              height: '100px'\r\n            }}\r\n          >\r\n            <div style={{ fontSize: '1.1rem', marginBottom: '8px' }}>{label}</div>\r\n            <div style={{ fontSize: '0.9rem' }}>Показать</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Модальное окно или встроенная визуализация */}\r\n      {activeMetric && (\r\n        <ChartModal\r\n          type={activeMetric as 'voltage' | 'current' | 'temperature'}\r\n          objectId={Number(objectId)}\r\n          onClose={() => setActiveMetric(null)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ObjectPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}